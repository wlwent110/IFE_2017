<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    div{
        border: 1px solid rgba(0, 0, 0, 0.18);

        padding: 5px;
        margin: 5px;
        background-color: #fff;
        overflow: hidden;

    }



div{

    display:inline-flex;

}
    .active{
        display: block;
        position: absolute;
        top: 200px;
        left: 300px;
    }
</style>
<body>
<div class="father">Super
    <div >Car
        <div>Apple
            <div>Poor</div>
            <div>Pig</div>
            <div>Colo</div>
            <div>Soccer</div>
        </div>
        <div>Phone</div>
        <div>
            <div>Book</div>
            <div>School</div>
        </div>
    </div>
    <div >Note
        <div>Human
            <div>Code</div>
            <div>Operote</div>
            <div>Man</div>
        </div>
        <div>
            <div>Bement
            <div>Cat</div>
            </div>
            <div>Glass</div></div>
    </div>
    <div>Fish</div>
</div>
<div class="active">
    <button>开始遍历</button>
    <input type="text">
    <button>查询</button>
</div>
<script>

    var father=document.querySelector('.father');
    var input=document.querySelector('input');
    var tree=[];
    var j=0;
    var a=0;
    var target;
    //遍历当前元素里面的所有节点，并存储在一个数组中。
        function traverse(ele,Tree) {

           Tree[j]=ele;
            ++j;
            if(ele.children.length>0){
               for(var i=0,len=ele.children.length;i<len;i++){
                   Tree[j]=ele.children[i]
                   traverse(ele.children[i],Tree);
               }
            }
        }
    traverse(father,tree);


        document.onclick=function (e) {
            var e=e.target;
            if(e.tagName=='BUTTON'){
                if(target){
                    target.style.backgroundColor = '#fff';
                    target=null;
                }
                if(e.innerText=='开始遍历'){
                    doIt();
                }
                    if(e.innerText=='查询'){
                        doIt(input.value);
                    }
                }
            }



    //判断当前节点的文字节点 并返回里面的Text
    function hasText(e) {
        if(e.children){
            return e.firstChild.nodeValue.replace(/\s/g,'');
        }else {
            return  e.innerText;
        }
    }
    //遍历当前节点里面的元素
    function doIt(text) {

    ++a;
    if(hasText(tree[a-1])== text){
        target=tree[a-1];
        tree[a-1].style.backgroundColor='#e61a4d';
        alert('找到了');
        a=0;

        text=null;
    }
    if(hasText(tree[a]==text)){
        target=tree[a];
        tree[a].style.backgroundColor='#e61a4d';
        alert('找到了');
        a=0;

        text=null;
    }
    if(a!==0){
        if(tree[a]){
            tree[a-1].style.backgroundColor='#2e4ae6';
            setTimeout(function () {
                tree[a-1].style.backgroundColor='#fff';
                doIt(text);
            },500)
        }else {
            tree[a-1].style.backgroundColor='#2e4ae6';
            setTimeout(function () {
                tree[a-1].style.backgroundColor='#fff';
                if(text){
                    if(hasText(tree[a-1])!== text){
                        alert('未找到');
                    }
                }

                a=0;
            },500)
        }
    }


    }
</script>

</body>
</html>